<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

// phpcs:disable Magento2.Templates.ThisInTemplate

/**
 * @var \Magento\Framework\View\Helper\SecureHtmlRenderer $secureRenderer
 */
?>
<?php if ($block->getTotal()->getValue()): ?>
    <?php
    /** @var \Magento\Checkout\Helper\Data $checkoutHelper */
    $checkoutHelper = $block->getData('checkoutHelper');
    ?>
    <tr class="totals balance">
        <th colspan="<?= $block->escapeHtmlAttr($block->getColspan()) ?>" class="mark" scope="row">
            <?= /* @noEscape */
            $secureRenderer->renderTag(
                'style',
                [],
                '.totals.balance th { ' . $block->escapeHtmlAttr($block->getTotal()->getStyle()) . ' }',
                false
            );
            ?>

            <?php $_title = __('Remove'); ?>
            <?php $_url = $block->getUrl('magento_customerbalance/cart/remove'); ?>
            <a href="<?= $block->escapeHtmlAttr($block->escapeUrl($_url)) ?>"
               title="<?= $block->escapeHtmlAttr($_title) ?>"
               class="action delete">
                <span><?= $block->escapeHtml($_title) ?></span>
            </a>

            <?= $block->escapeHtml($block->getTotal()->getTitle()) ?>
        </th>
        <td class="amount"
            data-th="<?= $block->escapeHtmlAttr($block->getTotal()->getTitle()) ?>">
            <?= /* @noEscape */
            $secureRenderer->renderTag(
                'style',
                [],
                '.totals.balance td { ' . $block->escapeHtmlAttr($block->getTotal()->getStyle()) . ' }',
                false
            );
            ?>
            <span class="discount">
                <?= /* @noEscape */ $checkoutHelper->formatPrice($block->getTotal()->getValue()) ?>
            </span>
        </td>
    </tr>
<?php endif; ?>
