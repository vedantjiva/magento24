<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/**
 * @var \Magento\Reward\Block\Checkout\Total $block
 * @var \Magento\Framework\View\Helper\SecureHtmlRenderer $secureRenderer
 * @var \Magento\Framework\Escaper $escaper
 */
/** @var \Magento\Checkout\Helper\Data $checkoutHelper */
$checkoutHelper = $block->getData('checkoutHelper');
?>
<?php if ($block->getTotal()->getValue()): ?>
    <?php $randomId = rand(); ?>
    <tr class="rewardpoints" id="rewardpoints-section-<?= /* @noEscape */ $randomId; ?>">
        <th colspan="<?= $escaper->escapeHtmlAttr($block->getColspan()) ?>" class="mark" scope="row">
            <?php $style = $escaper->escapeHtmlAttr($block->getTotal()->getStyle()); ?>
            <?php if ($style): ?>
                <?= /* @noEscape */
                $secureRenderer->renderStyleAsTag($style, '#rewardpoints-section-' . $randomId . ' th');
                ?>
            <?php endif; ?>
            <?php if ($block->getRenderingArea() == $block->getTotal()->getArea()): ?>
                <strong>
            <?php endif; ?>
            <?php $_title = __('Remove'); ?>
            <a
                data-mage-init='{
                "removePoints": {"removeUrl": "<?= $escaper->escapeUrl($block->getRemoveRewardTotalUrl()); ?>"}
                }'
                title="<?= $escaper->escapeHtmlAttr($_title) ?>"
                class="action delete">
                <span><?= $escaper->escapeHtml($_title) ?></span>
            </a>
            <?= /* @noEscape */
            $secureRenderer->renderStyleAsTag(
                'cursor: pointer',
                '#rewardpoints-section-' . $randomId . ' .action.delete'
            );
            ?>
            <?= $escaper->escapeHtml($block->getTotal()->getTitle()) ?>
            <?php if ($block->getRenderingArea() == $block->getTotal()->getArea()): ?>
                </strong>
            <?php endif; ?>
        </th>
        <td class="amount" data-th="<?= $escaper->escapeHtml($block->getTotal()->getTitle()) ?>">
            <?php if ($style): ?>
                <?= /* @noEscape */
                $secureRenderer->renderStyleAsTag($style, '#rewardpoints-section-' . $randomId . ' td.amount');
                ?>
            <?php endif; ?>
            <?php if ($block->getRenderingArea() == $block->getTotal()->getArea()): ?>
                <strong>
            <?php endif; ?>
            <?= /* @noEscape */ $checkoutHelper->formatPrice($block->getTotal()->getValue()) ?>
            <?php if ($block->getRenderingArea() == $block->getTotal()->getArea()): ?>
                </strong>
            <?php endif; ?>
        </td>
    </tr>
<?php endif; ?>
